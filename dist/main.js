(()=>{"use strict";const e=(e,t)=>"F"===e?(1.8*t+32).toFixed(2):(.5556*(t-32)).toFixed(2),{body:t}=document,r=document.querySelector("#city"),n=document.querySelector(".js-search"),o=document.querySelector(".js-dataTemp"),s=document.querySelector(".js-cityName"),c=document.querySelector(".js-feelsLike"),i=document.querySelector(".js-humidity"),a=document.querySelector(".js-pressure"),u=document.querySelector(".js-printMsg"),l=document.querySelector(".js-weather"),d=document.querySelector(".js-switch-unit"),m=["Drizzle","Snow","Rain","Clouds","Clear","Thunderstorm"];let y="metric";const h=((e=175,t)=>{let r;return function(n){clearTimeout(r),n.classList.add(t),r=setTimeout((()=>{n.classList.remove(t)}),e)}})(1500,"fadeIn-up"),p=e=>e[0].main,w=({temp:e,feelsLike:t})=>{o.childNodes[0].nodeValue=e,c.textContent=t},C=async(e,n)=>{try{const c=await(async(e,t)=>{const r=await fetch(((e,t)=>`http://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=3cdbc3f91e152ae949830280ac768421&units=${t}`)(e,t),{mode:"cors"});return await r.json()})(e,n);(({weather:e})=>{const r=m.includes(p(e))?p(e).toLowerCase():"default";t.classList.forEach((e=>t.classList.remove(e))),t.classList.add(r)})(o=(e=>{const{name:t,main:{humidity:r,pressure:n,temp:o,feels_like:s},weather:c}=e;return{cityName:t,humidity:r,pressure:n,temp:o,weather:c,feelsLike:s}})(c)),w(o),(({cityName:e})=>{s.childNodes[0].nodeValue=e})(o),(({humidity:e})=>{i.textContent=e})(o),(({pressure:e})=>{a.textContent=e})(o),(({weather:e})=>{l.textContent=p(e)})(o)}catch(e){"City name not found",u.style.cssText="--printMsgColor: var(--white);--printTextColor: var(--primary)",u.textContent="City name not found",h(u)}finally{r.value=""}var o},f=({key:e})=>{if("Enter"!==e)return;const t=r.value;C(t,y)},S=t=>{const r=+o.childNodes[0].nodeValue,n=+c.textContent;d.textContent="F"===t?"Switch to Celsius":"Switch to Fahrenheit";const s=e(t,r),i=e(t,n);return a=t,document.querySelectorAll(".temp-symbol").forEach((e=>e.textContent=`Â°${a}`)),{temp:s,feelsLike:i};var a},L=()=>{"metric"===y?(y="imperial",w(S("F"))):(y="metric",w(S("C")))},q=()=>{r.addEventListener("keydown",f),n.addEventListener("click",(()=>{C(r.value,y)})),d.addEventListener("click",L)};C("Cracow","metric"),q()})();